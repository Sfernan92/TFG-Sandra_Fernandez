<app-navbar></app-navbar>

<!-- Título Principal -->
<section class="text-center py-12 bg-[#006D77] text-white">
  <h2 class="text-5xl font-extrabold tracking-wide">
    COMPARADOR DE PRECIOS
  </h2>
  <p class="text-xl mt-3">¡Ahorra comparando precios de tus productos favoritos!</p>
</section>

<!-- Comparador por productos -->
<section class="py-12">
  <div class="max-w-6xl mx-auto text-center">
    <h3 class="text-3xl font-bold text-[#006D77]">Comparador por Productos</h3>
    <p class="text-[#83C5BE] mt-2 text-lg">Consulta precios de productos en diferentes supermercados</p>
  </div>
  <div class="max-w-6xl mx-auto grid grid-cols-1 md:grid-cols-{{ supermercados.length + 1 }} gap-6 mt-8 px-4">
    <!-- Columna de productos -->
    <div class="bg-white rounded-xl shadow-lg p-6">
      <h4 class="text-2xl font-bold text-[#006D77] mb-4 text-center">Producto</h4>
      <ul class="space-y-3 text-lg text-center">
        <li *ngFor="let producto of productos">{{ producto }}</li>
      </ul>
    </div>

    <!-- Columnas por supermercado -->
    <div
      *ngFor="let supermercado of supermercados"
      class="bg-[#FFDDD2] rounded-xl shadow-lg p-6"
    >
      <h4 class="text-2xl font-bold text-[#E29578] mb-4 text-center">{{ supermercado | titlecase }}</h4>
      <ul class="space-y-3 text-lg text-center">
        <li *ngFor="let producto of productos">{{ tabla[producto][supermercado] || '—' }}</li>
      </ul>
    </div>
  </div>
</section>

<!-- Comparación por Categoría -->
<section class="bg-[#EDF6F9] py-12">
  <div class="max-w-6xl mx-auto text-center">
    <h3 class="text-3xl font-bold text-[#006D77] mb-6">Comparación por Categoría</h3>
    <p class="text-[#83C5BE] text-lg mb-10">Consulta precios de productos por categorías</p>
    
    <div class="grid grid-cols-1 md:grid-cols-{{ supermercados.length + 1 }} gap-6">
      <!-- Columna de categorías -->
      <div class="bg-white rounded-xl shadow-lg p-6">
        <h4 class="text-xl font-bold text-[#006D77] mb-3 text-center">Categorías</h4>
        <ul class="space-y-2 text-lg text-gray-700 text-center">
          <li *ngFor="let categoria of categorias">{{ categoria }}</li>
        </ul>
      </div>

      <!-- Columnas por supermercado -->
      <div *ngFor="let supermercado of supermercados" class="bg-[#83C5BE] rounded-xl shadow-lg p-6">
        <h4 class="text-xl font-bold text-white mb-3 text-center">{{ supermercado }}</h4>
        <ul class="space-y-2 text-lg text-white text-center">
          <li *ngFor="let categoria of categorias">
            {{ (sumaPorCategoria[categoria]?.[supermercado] || 0) | number:'1.2-2' }}
          </li>
        </ul>
      </div>
    </div>
  </div>
</section>

<app-toast></app-toast>
<app-footer></app-footer>
